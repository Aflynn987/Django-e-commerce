{% extends 'e_commerce_app/base.html' %}

{% block content %}
  <h2>User Profile</h2>
  <div class="row">
    <div class="col-md-6">
      <h3>Personal Information</h3>
      <p><strong>Full Name:</strong> {{ user.full_name }}</p>
      <p><strong>Email:</strong> {{ user.email }}</p>
      <p><strong>Address Line 1:</strong> {{ user.address1 }}</p>
      <p><strong>Address Line 2:</strong> {{ user.address2 }}</p>
      <p><strong>City:</strong> {{ user.city }}</p>
      <p><strong>State:</strong> {{ user.state }}</p>
      <p><strong>Zip Code:</strong> {{ user.zip_code }}</p>
      <p><strong>Date of Birth:</strong> {{ user.date_of_birth }}</p>
      <p><strong>Phone Number:</strong> {{ user.phone_number }}</p>
    </div>
    <div class="col-md-6">
      <h3>Purchase History</h3>
      {% if purchases %}
        <ul>
          {% for purchase in purchases %}
            <li>{{ purchase.product }} - {{ purchase.date_purchased }}</li>
          {% endfor %}
        </ul>
      {% else %}
        <p>No purchases yet.</p>
      {% endif %}
    </div>
  </div>

  <hr>

  <h3>Update Personal and Credit Card Information</h3>
  <form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" class="btn btn-primary">Save Changes</button>
  </form>
{% endblock %}